import{a as N}from"./chunk-EKE4FFVS.js";import{a as F}from"./chunk-J75XIES7.js";import{A as r,D as k,H as u,J as c,K as o,L as a,N as m,O as d,P as l,R as S,S as p,U as _,W as E,X as O,Y as y,aa as V,ba as x,c as I,ca as D,da as h,k as L,l as b,la as C,na as T,r as w,s as g,t as f,u as M}from"./chunk-ZVCE5SI3.js";var R=n=>["/tasks",n];function Y(n,i){if(n&1&&(o(0,"p",9),p(1),a()),n&2){let t=l();r(),_(" ",t.task.description," ")}}var v=class n{task;toggle=new M;remove=new M;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["app-task-card"]],inputs:{task:"task"},outputs:{toggle:"toggle",remove:"remove"},decls:13,vars:9,consts:[[1,"card"],[1,"row","header"],[1,"title"],[3,"routerLink"],[1,"badge"],["class","description",4,"ngIf"],[1,"row","actions"],["type","button",3,"click"],["type","button",1,"danger",3,"click"],[1,"description"]],template:function(t,e){t&1&&(o(0,"article",0)(1,"header",1)(2,"h3",2)(3,"a",3),p(4),a()(),o(5,"span",4),p(6),a()(),u(7,Y,2,1,"p",5),o(8,"footer",6)(9,"button",7),d("click",function(){return e.toggle.emit(e.task.id)}),p(10),a(),o(11,"button",8),d("click",function(){return e.remove.emit(e.task.id)}),p(12," Delete "),a()()()),t&2&&(r(3),c("routerLink",E(7,R,e.task.id)),r(),_(" ",e.task.title," "),r(),S("done",e.task.status==="done"),r(),_(" ",e.task.status," "),r(),c("ngIf",e.task.description),r(3),_(" ",e.task.status==="done"?"Mark pending":"Mark done"," "))},dependencies:[h,x,T,C],styles:['.card[_ngcontent-%COMP%]{border:2px solid rgba(93,0,255,.1);border-radius:20px;padding:20px;background:linear-gradient(145deg,#1c1c1c,#252525);display:flex;flex-direction:column;gap:16px;box-shadow:0 4px 20px #0003;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 30px #5d00ff33;border-color:#5d00ff4d}.card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#ff2e9a,#5d00ff)}.row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}.header[_ngcontent-%COMP%]{align-items:flex-start}.title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#fff}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;position:relative;padding:4px 0}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background:linear-gradient(90deg,#ff2e9a,#cfff04);transition:width .3s ease}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}.badge[_ngcontent-%COMP%]{font-size:12px;padding:6px 14px;border-radius:20px;border:2px solid rgba(93,0,255,.3);background:#5d00ff1a;text-transform:uppercase;font-weight:600;letter-spacing:.5px;color:#5d00ff;transition:all .3s ease}.badge.done[_ngcontent-%COMP%]{background:#cfff0426;border-color:#cfff0466;color:#cfff04}.description[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.6;color:#ffffffb3;padding:12px 0}.actions[_ngcontent-%COMP%]{justify-content:flex-end;gap:12px;padding-top:12px;border-top:1px solid rgba(255,255,255,.1)}button[_ngcontent-%COMP%]{padding:10px 20px;min-width:120px;border-radius:12px;border:none;background:linear-gradient(135deg,#5d00ff,#7a29ff);cursor:pointer;font-size:14px;font-weight:600;color:#fff;position:relative;overflow:hidden;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #5d00ff66}button[_ngcontent-%COMP%]:hover:after{transform:translate(100%)}button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:transform .6s ease}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff2e9a,#ff5eb8)}button.danger[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #ff2e9a66}']})};function U(n,i){n&1&&(o(0,"button",8),p(1," + New Task "),a())}function W(n,i){if(n&1){let t=m();o(0,"button",9),d("click",function(){g(t);let s=l();return f(s.createDemoTask())}),p(1," + Demo Task "),a()}}function q(n,i){if(n&1){let t=m();o(0,"button",9),d("click",function(){g(t);let s=l();return f(s.login())}),p(1," Login "),a()}}function G(n,i){if(n&1){let t=m();o(0,"button",9),d("click",function(){g(t);let s=l();return f(s.logout())}),p(1," Logout "),a()}}function H(n,i){n&1&&(o(0,"p"),p(1," No tasks yet. "),a())}function J(n,i){if(n&1){let t=m();o(0,"app-task-card",10),d("toggle",function(s){g(t);let P=l();return f(P.onToggle(s))})("remove",function(s){g(t);let P=l();return f(P.onDelete(s))}),a()}if(n&2){let t=i.$implicit;c("task",t)}}var $=class n{api=w(N);auth=w(F);refresh$=new I;tasks$=this.refresh$.pipe(L(void 0),b(()=>this.api.getTasks()));isLoggedIn=()=>this.auth.isLoggedIn();trackById=(i,t)=>t.id;onToggle(i){this.api.getTaskById(i).pipe(b(t=>{if(!t)return this.api.getTasks();let e=t.status==="done"?"pending":"done";return this.api.updateTask(i,{status:e}).pipe(b(()=>this.api.getTasks()))})).subscribe(()=>this.refresh$.next())}onDelete(i){this.api.deleteTask(i).subscribe(()=>this.refresh$.next())}createDemoTask(){this.api.createTask({title:"Nueva tarea",description:"Creada desde la UI"}).subscribe(()=>this.refresh$.next())}login(){this.auth.login()}logout(){this.auth.logout()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["app-tasks-list-page"]],decls:14,vars:11,consts:[[1,"container"],[1,"header"],[1,"actions"],["type","button","routerLink","/tasks/new",4,"ngIf"],["type","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"list"],[3,"task","toggle","remove",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","routerLink","/tasks/new"],["type","button",3,"click"],[3,"toggle","remove","task"]],template:function(t,e){if(t&1&&(o(0,"section",0)(1,"header",1)(2,"h1"),p(3,"Tasks"),a(),o(4,"div",2),u(5,U,2,0,"button",3)(6,W,2,0,"button",4)(7,q,2,0,"button",4)(8,G,2,0,"button",4),a()(),u(9,H,2,0,"p",5),O(10,"async"),o(11,"div",6),u(12,J,1,1,"app-task-card",7),O(13,"async"),a()()),t&2){let s;r(5),c("ngIf",e.isLoggedIn()),r(),c("ngIf",e.isLoggedIn()),r(),c("ngIf",!e.isLoggedIn()),r(),c("ngIf",e.isLoggedIn()),r(),c("ngIf",((s=y(10,7,e.tasks$))==null?null:s.length)===0),r(3),c("ngForOf",y(13,9,e.tasks$))("ngForTrackBy",e.trackById)}},dependencies:[h,V,x,T,C,v,D],styles:['.container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:40px 20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:24px;margin-bottom:40px;flex-wrap:wrap}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:36px;font-weight:700;background:linear-gradient(90deg,#ff2e9a,#5d00ff);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;color:transparent;position:relative;padding-bottom:10px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:60px;height:4px;background:linear-gradient(90deg,#cfff04,#5d00ff);border-radius:2px}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}button[_ngcontent-%COMP%]{padding:12px 24px;border-radius:12px;border:none;background:linear-gradient(135deg,#5d00ff,#7a29ff);cursor:pointer;font-size:14px;font-weight:600;color:#fff;transition:all .3s ease;min-width:120px;position:relative;overflow:hidden}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #5d00ff4d}button[_ngcontent-%COMP%]:nth-child(2){background:linear-gradient(135deg,#cfff04,#b8e600);color:#1c1c1c}button[_ngcontent-%COMP%]:nth-child(2):hover{box-shadow:0 8px 25px #cfff044d}button[_ngcontent-%COMP%]:nth-child(3){background:transparent;border:2px solid #5D00FF;color:#5d00ff}button[_ngcontent-%COMP%]:nth-child(3):hover{background:#5d00ff1a}button[_ngcontent-%COMP%]:nth-child(4){background:transparent;border:2px solid #FF2E9A;color:#ff2e9a}button[_ngcontent-%COMP%]:nth-child(4):hover{background:#ff2e9a1a}.list[_ngcontent-%COMP%]{display:grid;gap:20px;margin-top:32px}p[_ngcontent-%COMP%]{text-align:center;color:#ffffff80;font-size:16px;padding:60px 20px;background:#1c1c1c80;border-radius:20px;border:2px dashed rgba(93,0,255,.2)}']})};export{$ as TasksListPage};
